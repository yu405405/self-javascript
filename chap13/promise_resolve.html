<script>
    let val = 0;
    Promise.resolve().then(() => {
        // 非同期処理のためグローバルコンテキスト終了後に実行される
        console.log(`valの値は[${val}]です。`);
    })
    val = 1;
    // 実行中のコンテキストを含むコールスタックが空になった
    console.log("グローバルコンテキスト終了");
    // > グローバルコンテキスト終了
    // > valの値は[1]です。
</script>